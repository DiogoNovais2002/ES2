@page "/Home_Participante"
@using Client.Services
@inject ApiService ApiService

<h3>Lista de Eventos</h3>

@if (Eventos != null && Eventos.Any())
{
    <div class="event-container">
        @foreach (var evento in Eventos)
        {
            <EventCard Event="evento" OnParticipate="HandleButtonClick" />
        }
    </div>
}


else
{
<p>Ainda não há eventos.</p>
}

@code {
private List<ApiService.EventDto> Eventos = new();

protected override async Task OnInitializedAsync()
{
Eventos = await ApiService.GetEventsAsync();
}

private void HandleButtonClick(int eventId)
{
Console.WriteLine($"Botão clicado para evento ID: {eventId}");
}
}
